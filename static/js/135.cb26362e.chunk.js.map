{"version":3,"file":"static/js/135.cb26362e.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx","shared/services/movies-api.jsx","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movie__wrap\":\"MovieDetails_movie__wrap__Bnk3C\",\"info__wrap\":\"MovieDetails_info__wrap__Bjem8\",\"movie__title\":\"MovieDetails_movie__title__IriAM\",\"movie__score\":\"MovieDetails_movie__score__DE4wI\",\"movie__overviewTitle\":\"MovieDetails_movie__overviewTitle__+G1oZ\",\"movie__overviewText\":\"MovieDetails_movie__overviewText__FdNYw\",\"movie__genresTitle\":\"MovieDetails_movie__genresTitle__G3KCk\",\"movie__genresList\":\"MovieDetails_movie__genresList__Qx1e9\",\"cast\":\"MovieDetails_cast__xGIdo\",\"extraPages__list\":\"MovieDetails_extraPages__list__31Ydb\",\"active\":\"MovieDetails_active__uPNdW\"};","import {useState, useEffect, useCallback} from 'react';\nimport { NavLink, Outlet, useParams, useNavigate, useLocation } from 'react-router-dom';\nimport { RevolvingDot } from 'react-loader-spinner';\nimport { getMovieById } from '../../shared/services/movies-api';\nimport defaultMovieImg from '../../images/placeholder.jpg';\nimport styles from '../MovieDetails/MovieDetails.module.css';\n\nconst getClassName = ({ isActive }) => {\n    const className = isActive ? `${styles.cast} ${styles.active}` : styles.cast;\n    return className;\n};\n\nconst MovieDetails = () => {\n    const [item, setItem] = useState({});\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n\n    const {id} = useParams();\n    const navigate = useNavigate();\n    const location = useLocation();\n    const from = location.state?.from || '/movies'; \n\n    useEffect(()=> {\n        const fetchMovie = async() => {\n            try {\n                setLoading(true);\n                const response = await getMovieById(id);\n                setItem({ ...response });\n            }\n            catch(error) {\n                setError(error.message);\n            } finally {\n                setLoading(false);\n            }\n        }\n        fetchMovie();\n    }, [id])\n\n    const goBack = useCallback(()=> navigate(from), [from, navigate]);\n\n    const {\n        poster_path,\n        original_title,\n        release_date,\n        vote_average,\n        overview,\n        genres,\n        homepage,\n    } = item;\n    \n    let genresList = '';\n    let date = '';\n    \n    if (Object.keys(item).length) {\n        genresList = genres.map(({ name }, idx) => {\n        if (idx === genres.length - 1) {\n            return `${name}.`;\n        }\n        return `${name}, `;\n        });\n    \n        date = release_date.slice(0, 4);\n    }\n    \n    return (\n        <div className=\"container\">\n            {loading && (\n                <RevolvingDot />\n            )}\n            {error && <p>Something goes wrong. Please try again.</p>}\n            <button type=\"button\" onClick={goBack} className=\"btn\">\n                Go back\n            </button>\n            <div className={styles.movie__wrap}>\n            <img\n                src={\n                poster_path\n                ? `https://image.tmdb.org/t/p/original/${poster_path}`\n                : defaultMovieImg\n                }\n                alt=\"\"\n                width=\"250\"\n            />\n                <div className={styles.info__wrap}>\n                    <h2 className={styles.movie__title}>\n                    <a href={homepage} target=\"_black\">\n                        {original_title} ({date})\n                    </a>\n                </h2>\n                <p className={styles.movie__score}>User score: {vote_average}</p>\n                <h3 className={styles.movie__overviewTitle}>Overview</h3>\n                <p className={styles.movie__overviewText}>{overview}</p>\n                <h3 className={styles.movie__genresTitle}>Genres</h3>\n                <p className={styles.movie__genresList}>{genresList}</p>\n                </div>\n            </div>\n            <ul className={styles.extraPages__list}>\n                <li className={styles.extraPages__item}>\n                    <NavLink\n                        state={{ from }}\n                        to={`/movies/${id}/credits`}\n                        className={getClassName}\n                    >\n                    Cast\n                    </NavLink>\n                </li>\n                <li className={styles.extraPages__item}>\n                    <NavLink\n                        state={{ from }}\n                        to={`/movies/${id}/reviews`}\n                        className={getClassName}\n                    >\n                    Reviews\n                    </NavLink>\n                </li>\n            </ul>\n    \n            <Outlet />\n        </div>\n    );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst instance = axios.create({\n    baseURL: 'https://api.themoviedb.org/3',\n    params: {\n        api_key: '682f4219ed4d8b2eaabdbacd40ee2053',\n        language: 'en-US',\n    },\n});\n\nexport const getPopularMovies = async()=> {\n    const url = '/trending/movie/day';\n    const {data} = await instance.get(url);\n    return data;\n}\n\nexport const getSearchMovies = async(query, page )=> {\n    const url = '/search/movie';\n    const {data} = await instance.get(url, {\n        params: {query, page },\n    });\n    return data;\n}\n\nexport const getMovieById = async(movie_id)=> {\n    const url = `/movie/${movie_id}`;\n    const {data} = await instance.get(url);\n    return data;\n}\n\nexport const getCastByMovieId  = async(movie_id)=> {\n    const url = `/movie/${movie_id}/credits`;\n    const {data} = await instance.get(url);\n    return data;\n}\n\nexport const getReviewsByMovieId  = async(movie_id)=> {\n    const url = `/movie/${movie_id}/reviews`;\n    const {data} = await instance.get(url);\n    return data;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}"],"names":["getClassName","isActive","styles","useState","item","setItem","loading","setLoading","error","setError","id","useParams","navigate","useNavigate","from","useLocation","state","useEffect","fetchMovie","getMovieById","response","message","goBack","useCallback","poster_path","original_title","release_date","vote_average","overview","genres","homepage","genresList","date","Object","keys","length","map","idx","name","slice","className","type","onClick","src","defaultMovieImg","alt","width","href","target","to","instance","axios","baseURL","params","api_key","language","getPopularMovies","get","data","getSearchMovies","query","page","movie_id","url","_defineProperty","obj","key","value","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}