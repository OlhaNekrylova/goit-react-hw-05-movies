{"version":3,"file":"static/js/135.0e8cdac8.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx","shared/services/movies-api.jsx","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movie\":\"MovieDetails_movie__9X7I7\",\"info\":\"MovieDetails_info__qv2SI\",\"title\":\"MovieDetails_title__cUGs9\",\"score\":\"MovieDetails_score__p8Kk2\",\"overviewTitle\":\"MovieDetails_overviewTitle__WmGe8\",\"overviewText\":\"MovieDetails_overviewText__K3-MM\",\"genresTitle\":\"MovieDetails_genresTitle__6SHlq\",\"genresList\":\"MovieDetails_genresList__2o809\",\"cast\":\"MovieDetails_cast__xGIdo\",\"list\":\"MovieDetails_list__dbNMP\",\"active\":\"MovieDetails_active__uPNdW\",\"btn\":\"MovieDetails_btn__7L5IF\"};","import {useState, useEffect, useCallback} from 'react';\nimport { NavLink, Outlet, useParams, useNavigate, useLocation } from 'react-router-dom';\nimport { RevolvingDot } from 'react-loader-spinner';\nimport { getMovieById } from '../../shared/services/movies-api';\nimport defaultMovieImg from '../../images/placeholder.jpg';\nimport styles from '../MovieDetails/MovieDetails.module.css';\n\nconst getClassName = ({ isActive }) => {\n    const className = isActive ? `${styles.cast} ${styles.active}` : styles.cast;\n    return className;\n};\n\nconst MovieDetails = () => {\n    const [item, setItem] = useState({});\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n\n    const {id} = useParams();\n    const navigate = useNavigate();\n    const location = useLocation();\n    const from = location.state?.from || '/movies'; \n\n    useEffect(()=> {\n        const fetchMovie = async() => {\n            try {\n                setLoading(true);\n                const response = await getMovieById(id);\n                setItem({ ...response });\n            }\n            catch(error) {\n                setError(error.message);\n            } finally {\n                setLoading(false);\n            }\n        }\n        fetchMovie();\n    }, [id])\n\n    const goBack = useCallback(()=> navigate(from), [from, navigate]);\n\n    const {\n        poster_path,\n        original_title,\n        release_date,\n        vote_average,\n        overview,\n        genres,\n        homepage,\n    } = item;\n    \n    let genresList = '';\n    let date = '';\n    \n    if (Object.keys(item).length) {\n        genresList = genres.map(({ name }, idx) => {\n        if (idx === genres.length - 1) {\n            return `${name}.`;\n        }\n        return `${name}, `;\n        });\n    \n        date = release_date.slice(0, 4);\n    }\n    \n    return (\n        <div className=\"container\">\n            {loading && (\n                <RevolvingDot />\n            )}\n            {error && <p>Something goes wrong. Please try again.</p>}\n            <button type=\"button\" onClick={goBack} className={styles.btn}>\n                Go back\n            </button>\n            <div className={styles.movie}>\n            <img\n                src={\n                poster_path\n                ? `https://image.tmdb.org/t/p/original/${poster_path}`\n                : defaultMovieImg\n                }\n                alt=\"\"\n                width=\"250\"\n            />\n                <div className={styles.info}>\n                    <h2 className={styles.title}>\n                    <a href={homepage} target=\"_black\">\n                        {original_title} ({date})\n                    </a>\n                </h2>\n                <p className={styles.score}>User score: {vote_average}</p>\n                <h3 className={styles.overviewTitle}>Overview</h3>\n                <p className={styles.overviewText}>{overview}</p>\n                <h3 className={styles.genresTitle}>Genres</h3>\n                <p className={styles.genresList}>{genresList}</p>\n                </div>\n            </div>\n            <ul className={styles.list}>\n                <li className={styles.item}>\n                    <NavLink\n                        state={{ from }}\n                        to={`/movies/${id}/credits`}\n                        className={getClassName}\n                    >\n                    Cast\n                    </NavLink>\n                </li>\n                <li className={styles.item}>\n                    <NavLink\n                        state={{ from }}\n                        to={`/movies/${id}/reviews`}\n                        className={getClassName}\n                    >\n                    Reviews\n                    </NavLink>\n                </li>\n            </ul>\n    \n            <Outlet />\n        </div>\n    );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst instance = axios.create({\n    baseURL: 'https://api.themoviedb.org/3',\n    params: {\n        api_key: '682f4219ed4d8b2eaabdbacd40ee2053',\n        language: 'en-US',\n    },\n});\n\nexport const getPopularMovies = async()=> {\n    const url = '/trending/movie/day';\n    const {data} = await instance.get(url);\n    return data;\n}\n\nexport const getSearchMovies = async(query, page )=> {\n    const url = '/search/movie';\n    const {data} = await instance.get(url, {\n        params: {query, page },\n    });\n    return data;\n}\n\nexport const getMovieById = async(movie_id)=> {\n    const url = `/movie/${movie_id}`;\n    const {data} = await instance.get(url);\n    return data;\n}\n\nexport const getCastByMovieId  = async(movie_id)=> {\n    const url = `/movie/${movie_id}/credits`;\n    const {data} = await instance.get(url);\n    return data;\n}\n\nexport const getReviewsByMovieId  = async(movie_id)=> {\n    const url = `/movie/${movie_id}/reviews`;\n    const {data} = await instance.get(url);\n    return data;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}"],"names":["getClassName","isActive","styles","useState","item","setItem","loading","setLoading","error","setError","id","useParams","navigate","useNavigate","from","useLocation","state","useEffect","fetchMovie","getMovieById","response","message","goBack","useCallback","poster_path","original_title","release_date","vote_average","overview","genres","homepage","genresList","date","Object","keys","length","map","idx","name","slice","className","type","onClick","src","defaultMovieImg","alt","width","href","target","to","instance","axios","baseURL","params","api_key","language","getPopularMovies","get","data","getSearchMovies","query","page","movie_id","url","getCastByMovieId","getReviewsByMovieId","_defineProperty","obj","key","value","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}